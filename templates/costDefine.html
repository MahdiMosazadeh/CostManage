{% extends 'dashboard.html' %}

{% block title %}
  هزینه ی جدید
{% endblock %}
{% block content %}
  <section class="content">
    <!-- Small boxes (Stat box) -->
    <div class="row">
      <div class="col-md-4">
        <!-- general form elements -->
        <div class="box box-primary">
          <div class="box-header with-border">
            <h3 class="box-title">هزینه جدید</h3>
          </div>
          <!-- /.box-header -->
          <!-- form start -->
          <form role="form" method="POST">
            <div class="box-body">
              <div class="form-group">
                <label>هزینه</label>
                <select class="form-control" name="costExtendID" style="padding: 1px;height: 35px;">
                  {% for costExtend in costExtendList %}
                    <option value="{{ costExtend.id }}">{{ costExtend.name }}</option>
                  {% endfor %}
                </select>
              </div>

              <div class="form-group">
                <label for="Debit" name="debit">مبلغ</label>
                <input type="number" class="form-control" id="Debit" name="debit" placeholder="مبلغ (ریال)" />
              </div>

              <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
              <script src="https://cdn.jsdelivr.net/npm/persian-date@1.1.0/dist/persian-date.min.js"></script>
              <script src="https://cdn.jsdelivr.net/npm/persian-datepicker@1.2.0/dist/js/persian-datepicker.min.js"></script>

              <div class="form-group">
                <label>تاریخ</label>
                <input type="text" class="form-control" id="datePicker" name="debitDate" placeholder="تاریخ" />
              </div>

            <!-- /.box-body -->

            <div class="box-footer">
              <button type="submit" name="insertCostDefine" class="btn btn-primary">ایجاد</button>
              {% with messages=get_flashed_messages() %}
                {% if messages %}
                  {% for msg in messages %}
                    {% if msg == 'insertCostDefineSuccess' %}
                      <p style="color:green;display: inline;margin-right: 20px;">ایجاد شد</p>
                    {% elif msg == 'insertCostDefineError' %}
                      <p style="color:red;display: inline;margin-right: 20px;">مشکلی وجود دارد</p>
                    {% endif %}
                  {% endfor %}
                {% endif %}
              {% endwith %}
            </div>
          </form>
        </div>
      </div>

      <script>
        $(document).ready(function () {
          $('#datePicker').persianDatepicker({
            format: 'YYYY/MM/DD'
          })
        })
      </script>
      <!-- ./col -->

      <!-- ./col -->

      <!-- ./col -->

      <!-- ./col -->

      <!-- ./col -->
    </div>

    <div class="row">
      <!-- right col -->
      <section class="col-lg-7 connectedSortable">
        <!-- TO DO List -->

        <!-- /.box -->
      </section>
      <!-- /.right col -->
      <!-- left col (We are only adding the ID to make the widgets sortable) -->
      <section class="col-lg-5 connectedSortable"></section>
      <!-- left col -->
    </div>
    <!-- /.row (main row) -->
  </section>
{% endblock %}
